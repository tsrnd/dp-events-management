swagger: '2.0'
info:
  version: 0.0.1
  title: Events Management API
consumes:
  - multipart/form-data
produces:
  - application/json
schemes:
  - http
  - https
securityDefinitions:
 Bearer:
  description: |
   For accessing the API a valid JWT token must be passed in all the queries in
   the 'Authorization' header.
   A valid JWT token is generated by the API and retourned as answer of a call
   to the route /login giving a valid user & password.
   The following syntax must be used in the 'Authorization' header :
   Bearer: xxxxxx.yyyyyyy.zzzzzz
  type: apiKey
  name: Authorization
  in: header
definitions:
  ErrorDetails:
      title: Error details
      type: object
      properties:
        message:
          type: string
          description: error messages
        errors:
          type: array
          items:
            description: error detail
            type: string
paths:
  /api/events:
    get:
      security:
       - Bearer: []
      summary: Return list events.
      tags:
       - Events
      description: |  
           returns list of information about "event".
      parameters:
        - name: result_limit
          in: query
          description:  |  
           Limit count of response record of searching.  
           if not setted,response record limit is 10.  
           minimun value =1,maximun value =100
          required: false
          type: integer
        - name: page
          in: query
          description:  |
           specify the number of page.
           if not seted,the number of page is 1.
          required: false
          type: integer
      responses:
        '200':
          description: Successful response
          schema:
            title: Successful response
            type: object
            properties:
              result_count:
               type: integer
               description:
                Count of result in this response
              event_list:
                type: array
                description: events sorted by DESC
                items:
                    type: object
                    properties:
                      title:
                        type: string
                        description: title of event(except for "#")
                        example: abc
                      start_datetime:
                        type: string
                        description: start time event
                        example: "2006-10-25 00:00:00+00"
                      end_datetime:
                        type: string
                        description: end time event
                        example: "2006-10-29 00:00:00+00"
                      location:
                        type: string
                        description: Event location
                        example: "10 Bạch Đằng, Đà Nẵng"
                      time_notication:
                        type: string
                        description: Time notication
                        example: "2006-10-26 00:00:00+00"
                      owner:
                        type: integer
                        description: User create event
                        example: 1
                      event_content:
                        type: string
                        description: Event Content
                        example: "meeting team"
                      file_attack:
                        type: string
                        description: File attack
                        example: "abc.pdf"
                      guest_can_invite:
                        type: boolean
                        description: Guest can invite
                        example: true
                      view_all_guest:
                        type: boolean
                        description: View all guest
                        example: false
                      item_preparing:
                        type: string
                        description: Item preparing
                        example: "money"
                      status:
                        type: integer
                        description: status event
                        example: 1
                      time_create:
                        type: string
                        description: Time create
                        example: "2006-10-29 00:00:00+00"
                      last_edit:
                        type: string
                        description: Time create
                        example: "00:00:00+00"
                      user_edit:
                        type: integer
                        description: user edit event
                        example: 1
        '400':
          description: Bad request error response
          schema:
            $ref: '#/definitions/ErrorDetails'
        '500':
          description: Internal server error response
          schema:
            $ref: '#/definitions/ErrorDetails'
  /api/event/{id_event}:
    get:
      security:
       - Bearer: []
      summary: Return detail a event.
      tags:
       - Events
      description: returns detail of a event.
      parameters:
        - name: id_event
          in: path
          description: id of event
          required: true
          type: integer
      responses:
        '200':
          description: Successful response
          schema:
            title: Successful response
            type: object
            properties:
              title:
                type: string
                description: title of event(except for "#")
                example: abc
              start_datetime:
                type: string
                description: start time event
                example: "2006-10-25 00:00:00+00"
              end_datetime:
                type: string
                description: end time event
                example: "2006-10-29 00:00:00+00"
              location:
                type: string
                description: Event location
                example: "10 Bạch Đằng, Đà Nẵng"
              time_notication:
                type: string
                description: Time notication
                example: "2006-10-26 00:00:00+00"
              owner:
                type: integer
                description: User create event
                example: 1
              event_content:
                type: string
                description: Event Content
                example: "meeting team"
              file_attack:
                type: string
                description: File attack
                example: "abc.pdf"
              guest_can_invite:
                type: boolean
                description: Guest can invite
                example: true
              view_all_guest:
                type: boolean
                description: View all guest
                example: false
              item_preparing:
                type: string
                description: Item preparing
                example: "money"
              status:
                type: integer
                description: status event
                example: 1
              time_create:
                type: string
                description: Time create
                example: "2006-10-29 00:00:00+00"
              last_edit:
                type: string
                description: Time create
                example: "00:00:00+00"
              user_edit:
                type: integer
                description: user edit event
                example: 1
                      
        '400':
          description: Bad request error response
          schema:
            $ref: '#/definitions/ErrorDetails'
        '500':
          description: Internal server error response
          schema:
            $ref: '#/definitions/ErrorDetails'
